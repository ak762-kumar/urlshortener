# src/main/resources/application-prod.properties

# This file contains configuration properties that are specific to the 'prod' (production) environment.
# When the 'prod' profile is active, any properties defined here will override the
# same properties in the default 'application.properties' file.

# ===================================================================
# = DATASOURCE CONFIGURATION (PostgreSQL)
# ===================================================================

# This is the standard JDBC connection URL for PostgreSQL.
# The hostname 'db' is a placeholder that will resolve to our Docker container name
# in the docker-compose network. 'urlshortener' is the name of the database.
spring.datasource.url=jdbc:postgresql://db:5432/urlshortener

# BEST PRACTICE: Externalize secrets.
# We are not hardcoding the username and password here. Instead, we use placeholders
# that will be resolved from environment variables (e.g., set by Docker Compose).
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}

# ===================================================================
# = JPA & HIBERNATE CONFIGURATION (Production)
# ===================================================================

# Tells Hibernate to use SQL syntax and features optimized specifically for PostgreSQL.
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# CRITICAL FOR PRODUCTION: This is a safety mechanism.
# 'validate' tells Hibernate to check if the database schema matches the JPA entities
# at startup. It will not attempt to create or update tables, preventing accidental
# data loss. If there's a mismatch, the application will fail to start.
spring.jpa.hibernate.ddl-auto=validate